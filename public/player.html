<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Killer â€¢ Player</title>
<style>
body {font-family:"Poppins",sans-serif;background:#f9f9f9;margin:0;padding:20px;display:flex;flex-direction:column;align-items:center;}
h1 {font-size:26px;font-weight:bold;margin-bottom:15px;text-align:center;}
button {font-size:16px;padding:8px 16px;margin:5px;border-radius:5px;border:none;cursor:pointer;transition:all 0.2s ease;}
button:hover {transform:scale(1.05);}
.role {font-size:20px;font-weight:bold;margin:10px 0;}
</style>
</head>
<body>
<h1>ðŸ‘¥ Killer Game</h1>

<input type="text" id="playerName" placeholder="Enter your name">
<button id="joinBtn">Join Game</button>

<p class="role" id="roleDisplay">Your role: ?</p>
<button id="toggleDeadBtn">Mark Dead / Alive</button>

<script src="/socket.io/socket.io.js"></script>
<script>
const socket = io();

const playerNameInput = document.getElementById('playerName');
const joinBtn = document.getElementById('joinBtn');
const roleDisplay = document.getElementById('roleDisplay');
const toggleDeadBtn = document.getElementById('toggleDeadBtn');

let joined = false;

joinBtn.addEventListener('click', () => {
  const name = playerNameInput.value.trim();
  if (!name) return alert("Enter your name");
  socket.emit('newPlayer', name);
  joined = true;
  joinBtn.disabled = true;
  playerNameInput.disabled = true;
});

toggleDeadBtn.addEventListener('click', () => {
  socket.emit('toggleDead');
});

socket.on('yourRole', role => {
  roleDisplay.innerText = `Your role: ${role}`;
});

socket.on('playerDeadMessage', name => {
  alert(`${name} is dead!`);
});
</script>
</body>
</html>