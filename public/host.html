<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Killer Game Host</title>
<link rel="stylesheet" href="style.css">
</head>
<body>
<h1>Host Panel</h1>

<input id="playerName" placeholder="Enter player name">
<button id="addPlayerBtn">Add Player</button>

<h2>Players:</h2>
<ul id="playerList"></ul>

<script src="/socket.io/socket.io.js"></script>
<script src="script.js"></script>
<script>
const socket = io();
const addPlayerBtn = document.getElementById("addPlayerBtn");
const playerNameInput = document.getElementById("playerName");

addPlayerBtn.addEventListener("click", () => {
  const name = playerNameInput.value.trim();
  if (name) {
    socket.emit("addPlayer", name);
    playerNameInput.value = "";
  }
});

socket.on("playerAdded", (playerName) => {
  const li = document.createElement("li");
  li.textContent = playerName;
  document.getElementById("playerList").appendChild(li);
});

socket.on("playerDied", (playerName) => {
  const items = document.querySelectorAll("#playerList li");
  items.forEach(li => {
    if(li.textContent === playerName) li.style.textDecoration = "line-through";
  });
});
</script>
</body>
</html>