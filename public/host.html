<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Killer â€¢ Host</title>
<style>
body {font-family:"Poppins",sans-serif;background:#f2f2f2;margin:0;padding:20px;display:flex;flex-direction:column;align-items:center;}
h1 {font-size:26px;font-weight:bold;margin-bottom:15px;text-align:center;}
button,input {font-size:16px;padding:8px 16px;margin:5px;border-radius:5px;border:none;cursor:pointer;transition:all 0.2s ease;}
button:hover {transform:scale(1.05);}
.players-container {display:flex;flex-wrap:wrap;justify-content:center;max-width:800px;}
.player-card {background:white;border-radius:12px;box-shadow:0 3px 8px rgba(0,0,0,0.1);padding:15px;margin:10px;width:200px;text-align:center;transition:all 0.3s ease;}
.player-card.dead {background:#ddd !important;opacity:0.6;}
</style>
</head>
<body>
<h1>ðŸ”ª Killer â€¢ Host Panel</h1>

<div>
<input type="text" id="playerName" placeholder="Enter player name">
<button id="addPlayerBtn">Add Player</button>
</div>

<div style="margin:10px;">
<button id="startGameBtn">Start / New Game</button>
<button id="endGameBtn">End & Reset Game</button>
</div>

<div class="players-container" id="playersContainer"></div>

<script src="/socket.io/socket.io.js"></script>
<script>
const socket = io();

const playerNameInput = document.getElementById('playerName');
const addPlayerBtn = document.getElementById('addPlayerBtn');
const startGameBtn = document.getElementById('startGameBtn');
const endGameBtn = document.getElementById('endGameBtn');
const playersContainer = document.getElementById('playersContainer');

let players = [];

addPlayerBtn.addEventListener('click', () => {
  const name = playerNameInput.value.trim();
  if (!name) return alert("Enter name");
  socket.emit('newPlayer', name);
  playerNameInput.value = '';
});

startGameBtn.addEventListener('click', () => {
  socket.emit('startGame');
});

endGameBtn.addEventListener('click', () => {
  socket.emit('endGame');
});

socket.on('updatePlayers', data => {
  players = data;
  renderPlayers();
});

function renderPlayers() {
  playersContainer.innerHTML = '';
  players.forEach(p => {
    const div = document.createElement('div');
    div.className = 'player-card' + (p.alive ? '' : ' dead');
    div.innerText = `${p.name} - ${p.alive ? 'Alive' : 'Dead'}`;
    playersContainer.appendChild(div);
  });
}
</script>
</body>
</html>