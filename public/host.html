<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Killer â€¢ Host</title>
<link rel="stylesheet" href="style.css">
</head>
<body>
<h1>ðŸ”ª Killer â€¢ Host Panel</h1>

<div>
<input type="text" id="playerName" placeholder="Enter player name">
<button id="addPlayerBtn">Add Player</button>
</div>

<div>
<button id="startGameBtn">Start / New Game</button>
<button id="endGameBtn">End & Reset Game</button>
</div>

<div class="players-container" id="playersContainer"></div>

<script src="/socket.io/socket.io.js"></script>
<script src="script.js"></script>
<script>
const socket = io();

const playerNameInput = document.getElementById('playerName');
const addPlayerBtn = document.getElementById('addPlayerBtn');
const startGameBtn = document.getElementById('startGameBtn');
const endGameBtn = document.getElementById('endGameBtn');
const playersContainer = document.getElementById('playersContainer');

let players = [];

// Add new player
addPlayerBtn.addEventListener('click', () => {
  const name = playerNameInput.value.trim();
  if (!name) return alert("Enter name");
  socket.emit('newPlayer', name);
  playerNameInput.value = '';
});

// Start Game
startGameBtn.addEventListener('click', () => {
  socket.emit('startGame');
});

// End & Reset Game
endGameBtn.addEventListener('click', () => {
  socket.emit('endGame');
});

// Update players
socket.on('updatePlayers', data => {
  players = data;
  renderPlayers();
});

function renderPlayers() {
  playersContainer.innerHTML = '';
  players.forEach(p => {
    const div = document.createElement('div');
    div.className = 'player-card' + (p.alive ? '' : ' dead');
    div.innerText = `${p.name} - ${p.alive ? 'Alive' : 'Dead'}`;
    playersContainer.appendChild(div);
  });
}
</script>
</body>
</html>